<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
		<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script src = "js/setup.js"></script>
		<script src = "js/websocket.js"></script>
		<script src = "js/refresh.js"></script>
		<script src = "js/util.js"></script>
		<script src = "js/events.js"></script>
		<script src = "js/chart.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<head>

	<body style = "background-color: #070707;" class = "text-light">
	
		<div style = "background-color: #1a1a1a;" class = "container card my-4 border-light">
			
			<div class = "card-body">
				
				<h1 class = "card-title text-center mt-4">
					Weather Station Dashboard
				</h1>

				<h2 class = "card-subtitle my-3 text-center">
					<strong class = "text-danger"> LIVE </strong> measurements by ESP32
				</h2>

				<div id = "toconnect">
					<div class = "row my-3 justify-content-center">
						<form id = "attemptconnect" class = "d-flex flex-row">
							<input type = "text" name = "token" id = "token" placeholder="Enter token"> 
							<input type = "submit" value = "Connect" class = "form-control btn-danger">
						</form>
					</div>
				</div>

				<div class = "row my-1 justify-content-center message my-1"></div>
				
				<div id = "connected">
				
				<div class = "row my-1 justify-content-center log my-1" style ="height: 3em;"> </div>

				<div class = "row justify-content-center my-3">
					<div class = "col-5 p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
							<span> <h3> <strong> Current time </strong> </h3> </span> 
							<span> <h3 id = "time"> - </h3> </span>
					</div>
					<div class = "col-5 p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> Last measurement </strong> </h3> </span> 
						<span> <h3 id = "timestamp"> - </h3> </span>
					</div>
				</div>

				<div class = "row my-3">
					<div class = "col p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> Temperature </strong> </h3> </span> 
						<span id = "temp"> <h3> - </h3></span>
					</div>
					<div class = "col p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> Humidity </strong> </h3> </span> 
						<span id = "humid"> <h3> - </h3></span>
					</div>
					<div class = "col p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> Brightness </strong> </h3> </span> 
						<span id = "lum"> <h3> - </h3></span>
					</div>
				</div>

				<div class = "row justify-content-center my-3">
					<div class = "col-5 p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> New data every </strong> </h3> </span> 
						<span id = "rate"> <h3> - </h3></span>
					</div>
					<div class = "col-5 p-3 card mx-2 d-flex flex-column align-items-center bg-dark">
						<span> <h3> <strong> Change sampling rrate </strong> </h3> </span> 
						<div class ="d-flex flex-row"> 
							<input id = "new_rate" type = "number" class = "bg-secondary form-control text-white" style = "width: 5em;" min = 5 max = 120>
							<button id = "change" class = "btn-danger rounded pills"> Change </button>
						</div>
					</div>
				</div>

				<div class = "row mt-5 justify-content-center">
					<h2> Graphics </h2>
				</div>

				<div class = "row my-3 justify-content-center">
					<span class = "align-self-center ml-2"> Type: </span>
					<select id = "graph" class = "bg-secondary form-control text-white ml-2" style = "width: 10em;">
						<option value = "temp"> Temperature
						<option value = "humid"> Humidity
						<option value = "lum"> Brightness
						<option value = "rate"> Rate
					</select>
					<span class = "align-self-center ml-2"> Hours: </span>
					<input id = "hours" type = "number" class = "bg-secondary form-control text-white ml-2" style = "width: 5em;" min = 1 max = 24>
					<button id = "draw" class = "btn-danger rounded pills ml-2"> Draw </button>
				</div>

				<div  class = "row my-5">
					<div id = "chartContainer" class = "mx-auto " style = "width:45em; height: 30em;">
					</div>
				</div>
				
			</div>
			
		</div>
		</div>
	
	</body>
</html>
